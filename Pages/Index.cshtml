@page
@using evantage.Models
@using evantage.Services
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model IndexModel
@inject IInMemoryGraphService graph_service
@{
    ViewData["Title"] = "Home page";
    var commission = Model.Commission ?? new Commissions();
    // var nodes = graph_service.GetNodes<Note>();
}
<div x-data='setup()' class="border-red-500 border-2">
    <div id="dashboard-contents" class="flex flex-row">
        <div class="w-1/4">
            <div class="bg-info/25">
                <div class="border-info/25 border-2">
                    <h1 x-text="current_section"></h1>
                </div>
            </div>
        </div>

        <div class="w-3/4">
            <div class="bg-accent-content/25">
                <div class="border-accent/25 border-2">
                    <h1>RIGHT</h1>
                </div>
            </div>
        </div>
    </div>

    <div id="dashboard-contents" class="flex flex-row">
        <div class="w-1/4">
            <div class="bg-info/25">
                <div class="border-info/25 border-2">
                    <div class="h-screen">
                        <a href="#notes-graph">Notes Graph</a>
                    </div>
                    <div class="h-screen">
                        <a href="#comission-calculator">Commission Calculator</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="w-3/4">
            <div class="bg-accent-content/25">
                <div class="border-accent/25 border-2">
                    <partial name="_NotesGraph"></partial>
                    <partial name="_CommissionCalculator" model="@commission"/>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function setup() {
    return {
        current_section: "@nameof(Commissions)"
    }
}
</script>